# Установка VideoGrace Server на Linux

Сервис устанавливается в папку /opt/VideoGrace/Server и запускается как Systemd сервис.
Поддерживаются все дистрибутивы начиная с Ubuntu 16, включая Astra Linux 1.7, RedOS 7.x

## Установка

Скачайте дистрибутив VideoGrace Server для Linux

    wget https://videograce.ru/download/VideoGraceServer-2.0.240220-x64.tar.bz2

Распакуйте полученный с сайта архив:
    
    tar vxf VideoGraceServer-2.0.240220-x64.tar.bz2
    
Перейдите в папку с файлами и выполните установку с правами root

    cd VideoGraceServer-2.0.240220-x64
    sudo ./install.sh

Установка производится в:

    /opt/VideoGrace/Server/

Сервис автоматически запустится после установки

Для проверки произведенной установки, откройте веб браузером на сервере [http://localhost:8778](http://localhost:8778)

Сервис слушает все имеющиеся на серверной машине сетевые интерфейсы, но автоматической настройки фаервола не производится. В случае если локально порт 8778 доступен, а из сети нет - нужно добавить разрешение в системный фаервол. 

Открытие порта на Astra Linux:

    sudo ufw allow from any to any port 8778

## Остановка сервиса
Для остановки сервиса используйте:

    systemctl stop vgserver

## Перезапуск сервиса
Для перезапуска сервиса выполните:

    systemctl restart vgserver

## Обновление сервиса
При выходе новой версии рекомендуется обновить систему. Для этого, скачайте актуальную версию,
распакуйте архив и выполните:

    sudo ./update.sh

После обновления сервера, клиентские приложения обновятся автоматически.

## Удаление
Перейдите в папку инсталлятора сервера и выполните
    
    cd VideoGraceServer-2.0.240220-x64
    sudo ./uninstall.sh

---
**Важно**

Файлы БД не удаляются деинсталлятором. Они находятся в папке:

    /opt/VideoGrace/Server/db

Сделайте бекап и удалите их вручную.

---

Далее: [Первоначальная настройка](first_steps.md)
